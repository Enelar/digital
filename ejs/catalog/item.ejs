<div id="phone_<%= id %>">

<%
var binded = params.binded;
var grouped = params.grouped;
$('title').first().html(binded.name.v);
%>
<h2><%= binded.name.v %></h2>
<div class="row">
  <div class="col-md-6" style='text-align: center;'>
<%
if (typeof(binded.picture) == undefined)
  img = "http://placehold.it/300x400";
else
  img = binded.picture.v;
%>
    <img src="<%= img %>" style="max-width: 300px; max-height: 400px;" />
    <br>
    <%= phoxy.DeferRender('buy/button', {id: id, stayhere: true}) %>
  </div>
  <div class="col-md-6">
    <table class="table table-hover table-condensed"><tbody>
<%
for (g in grouped)
{
  var group = grouped[g];
  var group_title = phone_info.groups[g].title;
%>
    <tr style='background-color: #999;'>
      <td colspan="2" data-value="<%= group_title %>" data-mark='phone-group-inditifier'></td>
    </tr>
<%
  for (k in group)
  {
    var v = group[k];
%>
      <tr>
        <td><%= k %></td>
        <td><%= v %></td>
      </tr>
<%
  }
}
%>
    </tbody></table>
  </div>
</div>
<div class="row" style='margin-top: 10px'>
  <div class='col-md-12'>
  </div>
</div>

<%
phoxy.Defer(function()
{
  var val = $('#phone_' + id).attr('data-value');
  $('#phone_' + id)
    .find('table')
    .find("td[data-mark='phone-group-inditifier']")
    .each(function()
    {
      $(this).html($(this).attr('data-value'));
    });
  
});
%>

</div>